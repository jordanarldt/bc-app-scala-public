{"version":3,"sources":["components/NavMenu.tsx","components/Header.tsx","components/icons/InventoryIcon.tsx","components/icons/UsersIcon.tsx","context/SessionProvider.tsx","scripts/bigcommerce.ts","pages/GettingStarted.tsx","pages/Help.tsx","components/InlineError.tsx","lib/api.ts","components/VariantEditModal.tsx","lib/hooks.ts","components/SearchBar.tsx","components/InventorySection.tsx","pages/Inventory.tsx","pages/NotFound.tsx","components/UsersRoleCell.tsx","components/UsersSection.tsx","pages/Users.tsx","App.tsx","index.tsx"],"names":["NavMenu","routes","Container","map","route","index","NavMenuItem","Item","MenuLink","to","path","icon","name","styled","ul","li","NavLink","theme","colors","primary20","primary","primary30","Header","navRoutes","className","StyledIcon","svg","InventoryIcon","xmlns","enableBackground","height","viewBox","width","fill","d","UsersIcon","cx","cy","r","UserContext","createContext","SessionProvider","children","useSearchParams","searchParams","useState","context","setContext","useEffect","query","get","window","document","getElementById","firstScript","getElementsByTagName","script","createElement","id","async","src","parentNode","insertBefore","bcAsyncInit","Bigcommerce","init","onLogout","bcSDK","Provider","value","useSession","useContext","GettingStarted","Panel","header","Help","action","variant","text","onClick","Collapse","title","as","InlineError","message","InlineMessage","type","messages","fetcher","method","body","fetch","headers","JSON","stringify","res","ok","json","error","Error","status","catch","updateUserRole","userId","role","updateInventoryOrTrackingType","variantId","productId","trackingType","inventoryCount","VariantEditModal","sku","closeModal","onSuccess","inventoryValue","setInventoryValue","trackingValue","setTrackingValue","isSaving","setIsSaving","saveError","setSaveError","handleSave","newTracking","Modal","actions","isOpen","onClose","closeOnEscKey","closeOnClickOutside","Flex","justifyContent","ProgressCircle","size","Form","marginBottom","Counter","label","min","max","maxLength","onCountChange","required","Select","filterable","options","content","onOptionChange","url","usePermissions","params","URLSearchParams","toString","useSWR","data","useStoreUsers","page","limit","search","String","users","pagination","isLoading","useVariants","like","mutate","variants","meta","SearchBar","defaultValue","onSearchSubmit","searchValue","setSearchValue","Box","Search","onChange","event","target","onSubmit","InventorySection","permissions","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","filterValue","setFilterValue","variantsLoading","variantsError","sortedVariants","setSortedVariants","columnHash","setColumnHash","direction","setDirection","sortVariants","sort","a","b","localeCompare","length","Table","emptyComponent","padding","columns","hash","render","product_name","isSortable","inventory_tracking","inventory_level","hideHeader","product_id","Button","props","modal","container","appendChild","ReactDOM","unmountComponentAtNode","remove","spawnVariantEditModal","disabled","totalItems","total","onPageChange","itemsPerPageOptions","onItemsPerPageChange","range","items","stickyHeader","sortable","onSort","newColumnHash","newDirection","total_pages","PreFetchPage","targetPage","Inventory","NotFound","UsersRoleCell","currentUserRole","currentRole","setCurrentRole","updateRole","targetRole","console","log","placeholder","undefined","UsersSection","usersLoading","usersError","email","lastLogin","Date","toLocaleString","totalPages","Users","appRoutes","AssignmentIcon","element","BaselineHelpIcon","App","AppGlobalStyles","createGlobalStyle","secondary10","StrictMode","GlobalStyles"],"mappings":"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","file":"static/js/main.0fba5934.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { AppRoute } from \"../types\";\n\ninterface NavMenuProps {\n  routes: AppRoute[];\n}\n\ninterface NavMenuItemProps {\n  route: AppRoute;\n}\n\nexport const NavMenu = ({ routes }: NavMenuProps) => {\n  return (\n    <Container>\n      {routes.map((route, index) => (\n        <NavMenuItem key={`nav-menu-item-${index}`} route={route} />\n      ))}\n    </Container>\n  );\n};\n\nconst NavMenuItem = ({ route }: NavMenuItemProps) => {\n  return (\n    <Item>\n      <MenuLink to={route.path}>{route.icon}{route.name}</MenuLink>\n    </Item>\n  );\n};\n\nconst Container = styled.ul`\n  padding-left: 0;\n`;\n\nconst Item = styled.li`\n  display: inline-block;\n  margin: 0 0.5rem;\n`;\n\nconst MenuLink = styled(NavLink)`\n  display: block;\n  font-weight: bold;\n  padding: 0.5rem 1rem;\n  border-radius: 0.75rem;\n  text-decoration: none;\n  transition: 100ms;\n  background-color: ${({ theme }) => theme.colors.primary20};\n\n  &.active {\n    color: white;\n    background-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0px 4px 8px ${({ theme }) => theme.colors.primary30};\n  }\n\n  &:not(.active):hover {\n    color: ${({ theme }) => theme.colors.primary30};\n    background-color: ${({ theme }) => theme.colors.primary20};\n  }\n\n  & svg {\n    margin-right: 0.25rem;\n  }\n`;\n","import { H1 } from \"@bigcommerce/big-design\";\nimport React from \"react\";\nimport { AppRoute } from \"../types\";\nimport { NavMenu } from \"./NavMenu\";\n\ninterface HeaderProps {\n  navRoutes: AppRoute[];\n}\n\nexport const Header = ({ navRoutes }: HeaderProps) => {\n  return (\n    <div className=\"header\">\n      <H1>Sample BigCommerce App with Scala/React</H1>\n      <NavMenu routes={navRoutes} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledIcon = styled.svg`\n  vertical-align: middle;\n  height: 1.5erm;\n  width: 1.5rem;\n`;\n\nexport const InventoryIcon = () => (\n  <StyledIcon xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><path d=\"M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M15,14H9v-2h6V14z M20,7H4V4h16V7z\"/></g></StyledIcon>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledIcon = styled.svg`\n  vertical-align: middle;\n  height: 1.5rem;\n  width: 1.5rem;\n`;\n\nexport const UsersIcon = () => (\n  <StyledIcon xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" fill=\"currentColor\"><g><path d=\"M0,0h24v24H0V0z\" fill=\"none\"/></g><g><g><circle cx=\"10\" cy=\"8\" r=\"4\"/><path d=\"M10.67,13.02C10.45,13.01,10.23,13,10,13c-2.42,0-4.68,0.67-6.61,1.82C2.51,15.34,2,16.32,2,17.35V20h9.26 C10.47,18.87,10,17.49,10,16C10,14.93,10.25,13.93,10.67,13.02z\"/><path d=\"M20.75,16c0-0.22-0.03-0.42-0.06-0.63l1.14-1.01l-1-1.73l-1.45,0.49c-0.32-0.27-0.68-0.48-1.08-0.63L18,11h-2l-0.3,1.49 c-0.4,0.15-0.76,0.36-1.08,0.63l-1.45-0.49l-1,1.73l1.14,1.01c-0.03,0.21-0.06,0.41-0.06,0.63s0.03,0.42,0.06,0.63l-1.14,1.01 l1,1.73l1.45-0.49c0.32,0.27,0.68,0.48,1.08,0.63L16,21h2l0.3-1.49c0.4-0.15,0.76-0.36,1.08-0.63l1.45,0.49l1-1.73l-1.14-1.01 C20.72,16.42,20.75,16.22,20.75,16z M17,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S18.1,18,17,18z\"/></g></g></StyledIcon>\n);\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { bcSDK } from \"../scripts/bigcommerce\";\n\nconst UserContext = createContext(\"\");\n\ninterface SessionProviderProps {\n  children?: React.ReactNode;\n}\n\nexport const SessionProvider = ({ children }: SessionProviderProps) => {\n  const [searchParams] = useSearchParams();\n  const [context, setContext] = useState(\"\");\n\n  useEffect(() => {\n    const query = searchParams.get(\"context\");\n    if (query) {\n      setContext(query);\n      bcSDK(query);\n    }\n  }, [searchParams]);\n\n  return (\n    <UserContext.Provider value={context}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useSession = () => useContext(UserContext);\n","declare global {\n  interface Window {\n    bcAsyncInit: () => void;\n  }\n\n  class Bigcommerce {\n    public static init: (config: { onLogout: () => void }) => void;\n  }\n}\n\nexport function bcSDK(context: string) {\n  if (typeof window === \"undefined\" || document.getElementById(\"bc-sdk-js\")) return;\n\n  const firstScript = document.getElementsByTagName(\"script\")[0];\n  const script = document.createElement(\"script\");\n  script.id = \"bc-sdk-js\";\n  script.async = true;\n  script.src = \"https://cdn.bigcommerce.com/jssdk/bc-sdk.js\";\n\n  firstScript.parentNode?.insertBefore(script, firstScript);\n\n  window.bcAsyncInit = () => {\n    Bigcommerce.init({\n      onLogout: () => null // any actions to perform on user logout should go here\n    });\n  };\n}\n","import { Panel, Text } from \"@bigcommerce/big-design\";\nimport React from \"react\";\n\nexport const GettingStarted = () => {\n  return (\n    <>\n      <Panel header=\"Getting Started\">\n        <Text>\n          Welcome! This page is where you could put any helpful info to introduce users to the flow of your application. This example app will demonstrate basic API functionality such as fetching product information, updating product inventory, and permissions-based user roles.\n        </Text>\n      </Panel>\n      <Panel header=\"Why Scala?\">\n        <Text>\n          Scala is not a new language by any means, but it has been gaining popularity in the last few years. Scala is a great language for building backend services and web applications that are scalable and performant due to its strong type system and functional programming features.\n        </Text>\n      </Panel>\n      <Panel header=\"Technology Stack\">\n        <Text>\n          This example app is built with <strong>Scala</strong> for the back-end, <strong>ReactJS</strong> for the front-end, and <strong>PostgreSQL</strong> for the database.\n        </Text>\n      </Panel>\n    </>\n  );\n};\n","import { Collapse, Panel, Text } from \"@bigcommerce/big-design\";\nimport React from \"react\";\n\nexport const Help = () => {\n  return (\n    <>\n      <Panel\n        header=\"Having trouble?\"\n        action={{\n          variant: \"secondary\",\n          text: \"Contact Support\",\n          onClick: () => {\n            // Open modal or redirect to support page\n          }\n        }}\n      >\n        <Text>This is the help page. This is where you would want to put troubleshooting steps and helpful information for your app users.</Text>\n      </Panel>\n      <Panel header=\"Frequently Asked Questions\">\n        <Text>This is the FAQ page. This is where you would want to put frequently asked questions for your app users.</Text>\n        <div>\n          <Collapse title=\"Will this app give me superpowers?\">\n            <Text>Probably not, but the app will help you manage your BigCommerce store.</Text>\n          </Collapse>\n        </div>\n        <div>\n          <Collapse title=\"Why am I getting an error?\">\n            <Text>If you&apos;re getting an error, you&apos;re likely doing something incorrectly. Here are the steps on how to do it correctly:</Text>\n            <ol>\n              <li><Text as=\"span\">Do this thing</Text></li>\n              <li><Text as=\"span\">And then this thing</Text></li>\n              <li><Text as=\"span\">And make sure of this</Text></li>\n              <li><Text as=\"span\">And then it should work</Text></li>\n            </ol>\n          </Collapse>\n        </div>\n      </Panel>\n    </>\n  );\n};\n","import { InlineMessage } from \"@bigcommerce/big-design\";\nimport React from \"react\";\n\nexport const InlineError = ({ message }: { message: string }) => {\n  return (\n    <InlineMessage \n      type=\"error\"\n      header=\"Error\" \n      messages={[{ text: message }]}\n    />\n  );\n};\n","import { ApiError } from \"../types\";\n\nconst apiHost = process.env.NODE_ENV === \"development\" ? \"http://localhost:8080\" : \"\";\n\nconst fetcher = async (path: string, method: string, body?: Record<string, unknown>) => {\n  const res = await fetch(`${apiHost}${path}`, {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: body ? JSON.stringify(body) : null\n  });\n\n  if (!res.ok) {\n    const { message } = await res.json();\n    const error: ApiError = new Error(message);\n    error.status = res.status;\n\n    throw error;\n  }\n\n  return res.json().catch(() => null);\n};\n\nexport function updateUserRole(userId: number, role: string, context: string): Promise<void> {\n  return fetcher(`/api/users?context=${context}`, \"PUT\", { userId, role });\n}\n\nexport function updateInventoryOrTrackingType(\n  variantId: number, \n  productId: number,\n  trackingType: string | null,\n  inventoryCount: number,\n  context: string\n) {\n  const body = { variantId, productId, trackingType, inventoryCount };\n\n  return fetcher(`/api/variants?context=${context}`, \"PUT\", body);\n}\n","import { \n  Counter,\n  Flex,\n  FlexItem,\n  Form,\n  FormGroup,\n  Modal,\n  ProgressCircle,\n  Select,\n} from \"@bigcommerce/big-design\";\nimport { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { updateInventoryOrTrackingType } from \"../lib/api\";\nimport { InlineError } from \"./InlineError\";\n\ninterface VariantEditModalProps {\n  id: number;\n  sku: string;\n  productId: number;\n  trackingType: string;\n  inventoryCount: number;\n  context: string;\n  closeModal: () => void;\n  onSuccess: () => void;\n}\n\nconst VariantEditModal = ({\n  id, \n  sku, \n  productId, \n  trackingType, \n  inventoryCount,\n  context,\n  closeModal,\n  onSuccess,\n}: VariantEditModalProps) => {\n  const [inventoryValue, setInventoryValue] = useState(inventoryCount);\n  const [trackingValue, setTrackingValue] = useState(trackingType);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState(false);\n\n  const handleSave = async () => {\n    // Make sure the values have been changed, otherwise close the modal without making a request\n    if (trackingValue !== trackingType || inventoryValue !== inventoryCount) {\n      setIsSaving(true);\n      const newTracking = trackingValue !== trackingType ? trackingValue : null;\n\n      try {\n        await updateInventoryOrTrackingType(id, productId, newTracking, inventoryValue, context);\n        setIsSaving(false);\n        onSuccess();\n        closeModal();\n      } catch {\n        setIsSaving(false);\n        setSaveError(true);\n      }\n    } else {\n      closeModal();\n    }\n  };\n\n  return (\n    <Modal \n      actions={[\n        { text: \"Cancel\", variant: \"subtle\", onClick: closeModal },\n        { text: \"Save\", onClick: handleSave }\n      ]}\n      header={`Editing SKU: ${sku}`}\n      isOpen={true}\n      onClose={closeModal}\n      closeOnEscKey={true}\n      closeOnClickOutside={true}\n    >\n      {isSaving ? (\n        <Flex justifyContent={\"center\"}>\n          <FlexItem><ProgressCircle size=\"medium\" /></FlexItem>\n        </Flex>\n      ) : (\n        <Form marginBottom=\"xSmall\">\n          <FormGroup>\n            <Counter\n              label=\"Inventory Count\"\n              value={inventoryValue}\n              min={0}\n              max={1000000}\n              maxLength={7}\n              onCountChange={setInventoryValue}\n              required\n            />\n            <Select \n              filterable={false}\n              label=\"Inventory Tracking Type\"\n              options={[\n                { value: \"product\", content: \"Product\" },\n                { value: \"variant\", content: \"Variant\" },\n                { value: \"none\", content: \"None\" },\n              ]}\n              value={trackingValue}\n              onOptionChange={setTrackingValue}\n              required\n            />\n          </FormGroup>\n          {saveError && (\n            <InlineError message=\"Failed to update the variant. Please try again.\" />\n          )}\n        </Form>\n      )}\n    </Modal>\n  );\n};\n\nexport function spawnVariantEditModal(\n  id: number, \n  sku: string, \n  productId: number, \n  trackingType: string, \n  inventoryCount: number,\n  context: string,\n  onSuccess: () => void,\n) {\n  const props = { id, sku, productId, trackingType, inventoryCount, context, onSuccess };\n  const modal = document.createElement(\"div\");\n  modal.id = \"modal\";\n  const container = document.body.appendChild(modal);\n\n  function close() {\n    ReactDOM.unmountComponentAtNode(container);\n    container.remove();\n  }\n\n  ReactDOM.render(<VariantEditModal closeModal={close} {...props} />, container);\n}\n","import useSWR from \"swr\";\nimport { useSession } from \"../context/SessionProvider\";\nimport { ApiError, BcMeta, PaginationInfo, PermissionsResponse, StoreUser, Variant } from \"../types\";\n\nconst apiHost = process.env.NODE_ENV === \"development\" ? \"http://localhost:8080\" : \"\";\n\nasync function fetcher(url: string, query: string) {\n  const res = await fetch(`${apiHost}${url}?${query}`);\n\n  if (!res.ok) {\n    const { message } = await res.json();\n    const error: ApiError = new Error(message);\n    error.status = res.status;\n\n    throw error;\n  }\n\n  return res.json();\n}\n\n// Hook to fetch the current user role from the API\n// since it won't be stored in the context and may not always be needed.\nexport function usePermissions() {\n  const context = useSession();\n  const params = new URLSearchParams({ context }).toString();\n  const { data, error } = useSWR(context ? [\"/api/users/role\", params] : null, fetcher);\n\n  return {\n    data: data as PermissionsResponse, \n    error\n  };\n}\n\n// Hook to fetch the current store users from the API\nexport function useStoreUsers(page: number, limit: number, search = \"\") {\n  // consider adding a name filter in the api?\n  const context = useSession();\n  const params = new URLSearchParams({ context, page: String(page), limit: String(limit), search }).toString();\n\n  const { data, error } = useSWR(context ? [\"/api/users\", params] : null, fetcher);\n\n  return {\n    users: data?.data as StoreUser[],\n    pagination: data?.pagination as PaginationInfo,\n    isLoading: !data && !error,\n    error\n  };\n}\n\nexport function useVariants(page: number, limit: number, like = \"\") {\n  const context = useSession();\n  const params = new URLSearchParams({ context, page: String(page), limit: String(limit), like }).toString();\n\n  const { data, error, mutate } = useSWR(context ? [\"/api/variants\", params] : null, fetcher);\n\n  return {\n    variants: data?.data as Variant[],\n    meta: data?.meta as BcMeta,\n    isLoading: !data && !error,\n    error,\n    mutate\n  };\n}\n","import { Box, Search } from \"@bigcommerce/big-design\";\nimport { useEffect, useState } from \"react\";\n\ninterface SearchBarProps {\n  defaultValue: string;\n  onSearchSubmit: (value: string) => void;\n}\n\nexport const SearchBar = ({ defaultValue, onSearchSubmit }: SearchBarProps) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  useEffect(() => {\n    setSearchValue(defaultValue);\n  }, [defaultValue]);\n\n  const onSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(event.target.value);\n  };\n\n  const onSubmit = () => {\n    onSearchSubmit(searchValue);\n  };\n\n  return (\n    <Box marginBottom=\"medium\">\n      <Search value={searchValue} onChange={onSearchChange} onSubmit={onSubmit} />\n    </Box>\n  );\n};\n","import { \n  Box, \n  Button,\n  Flex,\n  FlexItem, \n  ProgressCircle, \n  Table,\n  Text,\n} from \"@bigcommerce/big-design\";\nimport { useEffect, useState } from \"react\";\nimport { InlineError } from \"../components/InlineError\";\nimport { spawnVariantEditModal } from \"../components/VariantEditModal\";\nimport { useSession } from \"../context/SessionProvider\";\nimport { usePermissions, useVariants } from \"../lib/hooks\";\nimport { SearchBar } from \"./SearchBar\";\n\nexport const InventorySection = () => {\n  const context = useSession();\n  const permissions = usePermissions();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(50);\n  const itemsPerPageOptions = [50, 100, 200, 250];\n  const [filterValue, setFilterValue] = useState(\"\");\n  const { \n    variants, \n    meta,\n    isLoading: variantsLoading, \n    error: variantsError,\n    mutate\n  } = useVariants(currentPage, itemsPerPage, filterValue);\n\n  const [sortedVariants, setSortedVariants] = useState(variants);\n  const [columnHash, setColumnHash] = useState(\"\");\n  const [direction, setDirection] = useState<\"ASC\" | \"DESC\">(\"ASC\");\n\n  const onSort = (newColumnHash: string, newDirection: \"ASC\" | \"DESC\") => {\n    setColumnHash(newColumnHash);\n    setDirection(newDirection);\n    setSortedVariants(sortVariants);\n  };\n\n  const sortVariants = sortedVariants?.sort((a, b) => {\n      if (columnHash === \"inventory_level\") {\n        return direction === \"ASC\" ? a[columnHash] - b[columnHash] : b[columnHash] - a[columnHash];\n      } else {\n        return direction === \"ASC\" ? a.sku.localeCompare(b.sku) : b.sku.localeCompare(a.sku);\n      }\n    }\n  );\n\n  const onSearchSubmit = (value: string) => setFilterValue(value);\n\n  const onItemsPerPageChange = (range: number) => {\n    setCurrentPage(1);\n    setItemsPerPage(range);\n  };\n\n  const onPageChange = (page: number) => {\n    setCurrentPage(page);\n    // Ensure sorting is maintained on page change\n    setSortedVariants(sortVariants);\n  };\n\n  useEffect(() => setSortedVariants(variants), [variants]);\n\n  if (!context) {\n    return (\n      <InlineError message=\"Failed to authorize your session. Please try reloading the app.\" />\n    );\n  }\n\n  if (variantsLoading) {\n    return (\n      <Flex justifyContent={\"center\"}>\n        <FlexItem><ProgressCircle size=\"medium\" /></FlexItem>\n      </Flex>\n    );\n  }\n\n  if (permissions.error || variantsError) {\n    return (\n      <InlineError message=\"Failed to authorize the request for the variants data. Please try reloading or reinstalling the app.\" />\n    );\n  }\n\n  if (!variants?.length && !variantsLoading && !filterValue) {\n    return (\n      <InlineError message=\"There are no variants to display. This indicates a problem, please try reloading the app.\" />\n    );\n  }\n\n  return (\n    <>\n      <SearchBar defaultValue={filterValue} onSearchSubmit={onSearchSubmit} />\n      <Table \n        emptyComponent={<Box padding=\"medium\"><Text>No results!</Text></Box>}\n        columns={[\n          {\n            header: \"Product Name\",\n            hash: \"product_name\",\n            render: ({ product_name }) => product_name,\n            isSortable: false,\n          },\n          {\n            header: \"Tracking Type\",\n            hash: \"inventory_tracking\",\n            render: ({ inventory_tracking }) => inventory_tracking,\n            isSortable: false,\n          },\n          {\n            header: \"SKU\",\n            hash: \"sku\",\n            render: ({ sku }) => sku,\n            isSortable: true,\n          },\n          {\n            header: \"Inventory Count\",\n            hash: \"inventory_level\",\n            render: ({ inventory_level }) => inventory_level,\n            isSortable: true,\n          },\n          {\n            header: \"Action\",\n            hideHeader: true,\n            hash: \"action\",\n            render: ({ \n              id, \n              sku, \n              product_id: productId, \n              inventory_tracking: trackingType,\n              inventory_level: inventoryCount,\n            }) =>\n              <Button \n                variant=\"subtle\" \n                onClick={() => spawnVariantEditModal(id, sku, productId, trackingType, inventoryCount, context, mutate)}\n                disabled={permissions.data.role === \"viewer\"}\n              >\n                Edit\n              </Button>,\n            isSortable: false,\n          }\n        ]}\n        pagination={{\n          currentPage,\n          totalItems: meta.pagination?.total ?? 0,\n          onPageChange,\n          itemsPerPageOptions,\n          onItemsPerPageChange,\n          itemsPerPage\n        }}\n        items={sortedVariants ?? []}\n        stickyHeader={true}\n        sortable={{\n          columnHash,\n          direction,\n          onSort\n        }}\n      />\n      {currentPage < meta?.pagination.total_pages && <PreFetchPage targetPage={currentPage + 1} limit={itemsPerPage} />}\n    </>\n  );\n};\n\n// Invisible component to pre-fetch pages for a smoother experience\ninterface PreFetchPageProps {\n  targetPage: number;\n  limit: number;\n}\n\nfunction PreFetchPage({ targetPage, limit }: PreFetchPageProps) {\n  useVariants(targetPage, limit);\n  \n  return null;\n}\n","import { Panel, Text } from \"@bigcommerce/big-design\";\nimport React from \"react\";\nimport { InventorySection } from \"../components/InventorySection\";\n\nexport const Inventory = () => {\n  return (\n    <Panel header=\"Inventory\">\n      <Text>\n        You can see all of your store&apos;s variants here, sort them, and update the inventory level.\n      </Text>\n      <InventorySection />\n    </Panel>\n  );\n};\n","import { Panel, Text } from \"@bigcommerce/big-design\";\nimport React from \"react\";\n\nexport const NotFound = () => {\n  return (\n    <Panel header=\"Not Found\">\n      <Text>Cannot find the page that you&apos;re looking for.</Text>\n    </Panel>\n  );\n};\n","import { Select } from \"@bigcommerce/big-design\";\nimport { useState } from \"react\";\nimport { updateUserRole } from \"../lib/api\";\n\ninterface UsersRoleCellProps {\n  userId: number;\n  role: string;\n  currentUserRole: string;\n  context: string;\n}\n\nexport const UsersRoleCell = ({ userId, role, currentUserRole, context }: UsersRoleCellProps) => {\n  const [currentRole, setCurrentRole] = useState(role);\n\n  const updateRole = async (targetRole: string) => {\n    try {\n      await updateUserRole(userId, targetRole, context);\n      setCurrentRole(targetRole);\n    } catch (e) {\n      console.log(e);\n      setCurrentRole(role);\n    }\n  };\n\n  return (\n    <Select \n      onOptionChange={updateRole}\n      options={[\n        { value: \"admin\", content: \"Admin\" },\n        { value: \"viewer\", content: \"Viewer\" }\n      ]}\n      filterable={false}\n      value={currentRole}\n      placeholder={role === \"owner\" ? \"Owner\" : undefined}\n      disabled={role === \"owner\" || currentUserRole === \"viewer\"}\n    />\n  );\n};\n","import { \n  Flex, \n  FlexItem, \n  ProgressCircle, \n  Table, \n} from \"@bigcommerce/big-design\";\nimport { useState } from \"react\";\nimport { InlineError } from \"../components/InlineError\";\nimport { SearchBar } from \"../components/SearchBar\";\nimport { useSession } from \"../context/SessionProvider\";\nimport { usePermissions, useStoreUsers } from \"../lib/hooks\";\nimport { UsersRoleCell } from \"./UsersRoleCell\";\n\nexport const UsersSection = () => {\n  const context = useSession();\n  const permissions = usePermissions();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(10);\n  const itemsPerPageOptions = [10, 25, 50, 100];\n  const [filterValue, setFilterValue] = useState(\"\");\n  const { \n    users, \n    pagination,\n    isLoading: usersLoading, \n    error: usersError\n  } = useStoreUsers(currentPage, itemsPerPage, filterValue);\n\n  const onSearchSubmit = (value: string) => setFilterValue(value);\n\n  const onItemsPerPageChange = (range: number) => {\n    setCurrentPage(1);\n    setItemsPerPage(range);\n  };\n\n  if (!context) {\n    return (\n      <InlineError message=\"Failed to authorize your session. Please try reloading the app.\" />\n    );\n  }\n\n  if (usersLoading) {\n    return (\n      <Flex justifyContent={\"center\"}>\n        <FlexItem><ProgressCircle size=\"medium\" /></FlexItem>\n      </Flex>\n    );\n  }\n\n  if (permissions.error || usersError) {\n    return (\n      <InlineError  message=\"There was an error loading the users data. Please try again or reload the app.\" />\n    );\n  }\n\n  if (!users?.length && !usersLoading && !filterValue) {\n    return (\n      <InlineError message=\"There are no users to display. This indicates a problem, please try reloading the app.\" />\n    );\n  }\n\n  return (\n    <>\n      <SearchBar defaultValue={filterValue} onSearchSubmit={onSearchSubmit} />\n      <Table \n        columns={[\n          { \n            header: \"Email\", \n            hash: \"email\", \n            render: ({ email }) => email \n          },\n          { \n            header: \"Role\", \n            hash: \"role\", \n            width: \"200px\",\n            render: ({ role, userId }) => \n              <UsersRoleCell \n                currentUserRole={permissions.data?.role} \n                role={role} \n                userId={userId}\n                context={context}\n              />\n          },\n          { \n            header: \"Last Login\", \n            hash: \"lastLogin\", \n            render: ({ lastLogin }) => new Date(lastLogin * 1000).toLocaleString() \n          },\n        ]}\n        pagination={{\n          currentPage,\n          totalItems: pagination?.totalItems ?? 0,\n          onPageChange: setCurrentPage,\n          itemsPerPageOptions,\n          onItemsPerPageChange,\n          itemsPerPage\n        }}\n        items={users ?? []}\n      />\n      {currentPage < pagination?.totalPages && <PreFetchPage targetPage={currentPage + 1} limit={itemsPerPage} />}\n    </>\n  );\n};\n\n// Invisible component to pre-fetch pages for a smoother experience\ninterface PreFetchPageProps {\n  targetPage: number;\n  limit: number;\n}\n\nfunction PreFetchPage({ targetPage, limit }: PreFetchPageProps) {\n  useStoreUsers(targetPage, limit);\n\n  return null;\n}\n","import { \n  Panel, \n  Text, \n} from \"@bigcommerce/big-design\";\nimport React from \"react\";\nimport { UsersSection } from \"../components/UsersSection\";\n\nexport const Users = () => {\n  return (\n    <Panel header=\"Users\">\n      <Text>This is a list of users that are able to use this app on your store and their permissions. By default, when a user first loads the app after being given permissions, they will only have the <strong>Viewer</strong> role. If you want them to have <strong>Admin</strong> permissions, you must set that here.</Text>\n      <UsersSection />\n    </Panel>\n  );\n};\n","import { AssignmentIcon, BaselineHelpIcon } from \"@bigcommerce/big-design-icons\";\nimport React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { Header } from \"./components/Header\";\nimport { InventoryIcon } from \"./components/icons/InventoryIcon\";\nimport { UsersIcon } from \"./components/icons/UsersIcon\";\nimport { SessionProvider } from \"./context/SessionProvider\";\nimport { GettingStarted } from \"./pages/GettingStarted\";\nimport { Help } from \"./pages/Help\";\nimport { Inventory } from \"./pages/Inventory\";\nimport { NotFound } from \"./pages/NotFound\";\nimport { Users } from \"./pages/Users\";\nimport { AppRoute } from \"./types\";\n\nconst appRoutes: AppRoute[] = [\n  { \n    name: \"Getting Started\", \n    path: \"/\",\n    icon: <AssignmentIcon />,\n    element: <GettingStarted /> \n  },\n  { \n    name: \"Inventory\", \n    path: \"/inventory\", \n    icon: <InventoryIcon />,\n    element: <Inventory />\n  },\n  { \n    name: \"Users\", \n    path: \"/users\", \n    icon: <UsersIcon />,\n    element: <Users /> \n  },\n  {\n    name: \"Help\",\n    path: \"/help\",\n    icon: <BaselineHelpIcon />,\n    element: <Help />\n  }\n];\n\nexport function App(): JSX.Element {\n  return (\n    <BrowserRouter>\n      <Header navRoutes={appRoutes} />\n      <SessionProvider>\n        <Routes>\n          {appRoutes.map(({ path, element }, index) => \n            <Route key={`route-${index}`} path={path} element={element} />\n          )}\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </SessionProvider>\n    </BrowserRouter>\n  );\n}\n","import { GlobalStyles } from \"@bigcommerce/big-design\";\nimport { theme } from \"@bigcommerce/big-design-theme\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createGlobalStyle, ThemeProvider } from \"styled-components\";\nimport { App } from \"./App\";\nimport \"./style.css\";\n\nconst AppGlobalStyles = createGlobalStyle`\n  body {\n    height: 100%;\n    max-width: 1080px;\n    min-width: 600px;\n    margin: 2rem auto;\n    background-color: ${({ theme }) => theme.colors.secondary10};\n  }\n\n  #root {\n    padding: 1rem;\n  }\n\n  a {\n    color: ${({ theme }) => theme.colors.primary};\n  }\n\n  a:hover {\n    color: ${({ theme }) => theme.colors.primary30};\n  }\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <AppGlobalStyles />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}