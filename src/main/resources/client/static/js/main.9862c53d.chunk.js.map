{"version":3,"sources":["context/SessionProvider.tsx","scripts/bigcommerce.ts","components/icons/InventoryIcon.tsx","components/icons/UsersIcon.tsx","components/NavMenu.tsx","components/Header.tsx","pages/GettingStarted.tsx","pages/Help.tsx","components/SearchBar.tsx","lib/hooks.ts","lib/api.ts","components/VariantEditModal.tsx","pages/Inventory.tsx","pages/Users.tsx","pages/NotFound.tsx","App.tsx","index.tsx"],"names":["UserContext","createContext","SessionProvider","children","useSearchParams","searchParams","useState","context","setContext","useEffect","query","get","window","document","getElementById","firstScript","getElementsByTagName","script","createElement","id","async","src","parentNode","insertBefore","bcAsyncInit","Bigcommerce","init","onLogout","bcSDK","Provider","value","useSession","useContext","StyledIcon","styled","svg","InventoryIcon","xmlns","enableBackground","height","viewBox","width","fill","d","UsersIcon","cx","cy","r","NavMenu","routes","Container","map","route","index","NavMenuItem","Item","MenuLink","to","path","icon","name","ul","li","NavLink","theme","colors","primary20","primary","primary30","Header","navRoutes","className","GettingStarted","Panel","header","Help","action","variant","text","onClick","Collapse","title","as","SearchBar","defaultValue","onSearchSubmit","searchValue","setSearchValue","Box","marginBottom","Search","onChange","event","target","onSubmit","fetcher","url","a","fetch","res","ok","json","message","error","Error","status","usePermissions","params","URLSearchParams","toString","useSWR","data","useStoreUsers","page","limit","search","String","users","pagination","isLoading","useVariants","like","mutate","variants","meta","method","body","headers","JSON","stringify","catch","VariantEditModal","sku","productId","trackingType","inventoryCount","closeModal","onSuccess","inventoryValue","setInventoryValue","trackingValue","setTrackingValue","isSaving","setIsSaving","saveError","setSaveError","Modal","actions","variantId","updateInventoryOrTrackingType","then","err","isOpen","onClose","closeOnEscKey","closeOnClickOutside","Flex","justifyContent","ProgressCircle","size","Form","Counter","label","min","max","maxLength","onCountChange","required","Select","filterable","options","content","onOptionChange","InlineMessage","type","messages","Inventory","InventorySection","permissions","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","filterValue","setFilterValue","variantsLoading","variantsError","sortedVariants","setSortedVariants","columnHash","setColumnHash","direction","setDirection","sortVariants","sort","b","localeCompare","length","Table","emptyComponent","padding","columns","hash","render","product_name","isSortable","inventory_tracking","inventory_level","hideHeader","product_id","Button","props","modal","container","appendChild","ReactDOM","unmountComponentAtNode","remove","spawnVariantEditModal","disabled","role","totalItems","total","onPageChange","itemsPerPageOptions","onItemsPerPageChange","range","items","stickyHeader","sortable","onSort","newColumnHash","newDirection","total_pages","PreFetchPage","targetPage","Users","UsersSection","usersLoading","usersError","email","userId","currentUserRole","lastLogin","Date","toLocaleString","totalPages","RoleCell","currentRole","setCurrentRole","targetRole","updateUserRole","console","log","placeholder","undefined","NotFound","appRoutes","AssignmentIcon","element","BaselineHelpIcon","App","AppGlobalStyles","createGlobalStyle","secondary10","StrictMode","GlobalStyles"],"mappings":"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","file":"static/js/main.9862c53d.chunk.js","sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { bcSDK } from \"../scripts/bigcommerce\";\n\nconst UserContext = createContext(\"\");\n\nexport const SessionProvider = ({ children }: any) => {\n  const [searchParams] = useSearchParams();\n  const [context, setContext] = useState(\"\");\n\n  useEffect(() => {\n    const query = searchParams.get(\"context\");\n    if (query) {\n      setContext(query);\n      bcSDK(query);\n    }\n  }, [searchParams]);\n\n  return (\n    <UserContext.Provider value={context}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useSession = () => useContext(UserContext);\n","declare global {\n  interface Window {\n    bcAsyncInit: () => void;\n  }\n\n  class Bigcommerce {\n    public static init: (config: { onLogout: () => void }) => void;\n  }\n}\n\nexport function bcSDK(context: string) {\n  if (typeof window === \"undefined\" || document.getElementById(\"bc-sdk-js\")) return;\n\n  const firstScript = document.getElementsByTagName(\"script\")[0];\n  const script = document.createElement(\"script\");\n  script.id = \"bc-sdk-js\";\n  script.async = true;\n  script.src = \"https://cdn.bigcommerce.com/jssdk/bc-sdk.js\";\n\n  firstScript.parentNode?.insertBefore(script, firstScript);\n\n  window.bcAsyncInit = () => {\n    Bigcommerce.init({\n      onLogout: () => null // any actions to perform on user logout should go here\n    });\n  };\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledIcon = styled.svg`\n  vertical-align: middle;\n  height: 1.5rem;\n  width: 1.5rem;\n`;\n\nexport const InventoryIcon = () => (\n  <StyledIcon xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><path d=\"M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M15,14H9v-2h6V14z M20,7H4V4h16V7z\"/></g></StyledIcon>\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledIcon = styled.svg`\n  vertical-align: middle;\n  height: 1.5rem;\n  width: 1.5rem;\n`;\n\nexport const UsersIcon = () => (\n  <StyledIcon xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" fill=\"currentColor\"><g><path d=\"M0,0h24v24H0V0z\" fill=\"none\"/></g><g><g><circle cx=\"10\" cy=\"8\" r=\"4\"/><path d=\"M10.67,13.02C10.45,13.01,10.23,13,10,13c-2.42,0-4.68,0.67-6.61,1.82C2.51,15.34,2,16.32,2,17.35V20h9.26 C10.47,18.87,10,17.49,10,16C10,14.93,10.25,13.93,10.67,13.02z\"/><path d=\"M20.75,16c0-0.22-0.03-0.42-0.06-0.63l1.14-1.01l-1-1.73l-1.45,0.49c-0.32-0.27-0.68-0.48-1.08-0.63L18,11h-2l-0.3,1.49 c-0.4,0.15-0.76,0.36-1.08,0.63l-1.45-0.49l-1,1.73l1.14,1.01c-0.03,0.21-0.06,0.41-0.06,0.63s0.03,0.42,0.06,0.63l-1.14,1.01 l1,1.73l1.45-0.49c0.32,0.27,0.68,0.48,1.08,0.63L16,21h2l0.3-1.49c0.4-0.15,0.76-0.36,1.08-0.63l1.45,0.49l1-1.73l-1.14-1.01 C20.72,16.42,20.75,16.22,20.75,16z M17,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S18.1,18,17,18z\"/></g></g></StyledIcon>\n);\n","import React from \"react\";\nimport { AppRoute } from \"../types\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\ninterface NavMenuProps {\n  routes: AppRoute[];\n}\n\ninterface NavMenuItemProps {\n  route: AppRoute;\n}\n\nexport const NavMenu = ({ routes }: NavMenuProps) => {\n  return (\n    <Container>\n      {routes.map((route, index) => (\n        <NavMenuItem key={`nav-menu-item-${index}`} route={route} />\n      ))}\n    </Container>\n  );\n};\n\nconst NavMenuItem = ({ route }: NavMenuItemProps) => {\n  return (\n    <Item>\n      <MenuLink to={route.path}>{route.icon}{route.name}</MenuLink>\n    </Item>\n  );\n};\n\nconst Container = styled.ul`\n  padding-left: 0;\n`;\n\nconst Item = styled.li`\n  display: inline-block;\n  margin: 0 0.5em;\n`;\n\nconst MenuLink = styled(NavLink)`\n  display: block;\n  font-weight: bold;\n  padding: 0.5em 1em;\n  border-radius: 0.75em;\n  text-decoration: none;\n  transition: 100ms;\n  background-color: ${({ theme }) => theme.colors.primary20};\n\n  &.active {\n    color: white;\n    background-color: ${({ theme }) => theme.colors.primary};\n    box-shadow: 0px 4px 8px ${({ theme }) => theme.colors.primary30};\n  }\n\n  &:not(.active):hover {\n    color: ${({ theme }) => theme.colors.primary30};\n    background-color: ${({ theme }) => theme.colors.primary20};\n  }\n\n  & svg {\n    margin-right: 0.25em;\n  }\n`;\n","import React from \"react\";\nimport { AppRoute } from \"../types\";\nimport { H1 } from \"@bigcommerce/big-design\";\nimport { NavMenu } from \"./NavMenu\";\n\ninterface HeaderProps {\n  navRoutes: AppRoute[];\n}\n\nexport const Header = ({ navRoutes }: HeaderProps) => {\n  return (\n    <div className=\"header\">\n      <H1>Sample BigCommerce App with Scala/React</H1>\n      <NavMenu routes={navRoutes} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Panel, Text } from \"@bigcommerce/big-design\";\n\nexport const GettingStarted = () => {\n  return (\n    <>\n      <Panel header=\"Getting Started\">\n        <Text>\n          Welcome! This page is where you could put any helpful info to introduce users to the flow of your application. This example app will demonstrate basic API functionality such as fetching product information, updating product inventory, and permissions-based user roles.\n        </Text>\n      </Panel>\n      <Panel header=\"Why Scala?\">\n        <Text>\n          Scala is not a new language by any means, but it has been gaining popularity in the last few years. Scala is a great language for building backend services and web applications that are scalable and performant due to its strong type system and functional programming features.\n        </Text>\n      </Panel>\n      <Panel header=\"Technology Stack\">\n        <Text>\n          This example app is built with <strong>Scala</strong> for the back-end, <strong>ReactJS</strong> for the front-end, and <strong>PostgreSQL</strong> for the database.\n        </Text>\n      </Panel>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Collapse, Panel, Text } from \"@bigcommerce/big-design\";\n\nexport const Help = () => {\n  return (\n    <>\n      <Panel\n        header=\"Having trouble?\"\n        action={{\n          variant: \"secondary\",\n          text: \"Contact Support\",\n          onClick: () => {\n            // Open modal or redirect to support page\n          }\n        }}\n      >\n        <Text>This is the help page. This is where you would want to put troubleshooting steps and helpful information for your app users.</Text>\n      </Panel>\n      <Panel header=\"Frequently Asked Questions\">\n        <Text>This is the FAQ page. This is where you would want to put frequently asked questions for your app users.</Text>\n        <div>\n          <Collapse title=\"Will this app give me superpowers?\">\n            <Text>Probably not, but the app will help you manage your BigCommerce store.</Text>\n          </Collapse>\n        </div>\n        <div>\n          <Collapse title=\"Why am I getting an error?\">\n            <Text>If you're getting an error, you're likely doing something incorrectly. Here are the steps on how to do it correctly:</Text>\n            <ol>\n              <li><Text as=\"span\">Do this thing</Text></li>\n              <li><Text as=\"span\">And then this thing</Text></li>\n              <li><Text as=\"span\">And make sure of this</Text></li>\n              <li><Text as=\"span\">And then it should work</Text></li>\n            </ol>\n          </Collapse>\n        </div>\n      </Panel>\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { Box, Search } from \"@bigcommerce/big-design\";\n\ninterface SearchBarProps {\n  defaultValue: string;\n  onSearchSubmit: (value: string) => void;\n}\n\nexport const SearchBar = ({ defaultValue, onSearchSubmit }: SearchBarProps) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  useEffect(() => {\n    setSearchValue(defaultValue);\n  }, [defaultValue]);\n\n  const onSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(event.target.value);\n  };\n\n  const onSubmit = () => {\n    onSearchSubmit(searchValue);\n  };\n\n  return (\n    <Box marginBottom=\"medium\">\n      <Search value={searchValue} onChange={onSearchChange} onSubmit={onSubmit} />\n    </Box>\n  );\n};\n","import useSWR from \"swr\";\nimport { useSession } from \"../context/SessionProvider\";\nimport { ApiError, PaginationInfo, PermissionsResponse, StoreUser, Variant, BcMeta } from \"../types\";\n\nconst apiHost = process.env.NODE_ENV === \"development\" ? \"http://localhost:8080\" : \"\";\n\nasync function fetcher(url: string, query: string) {\n  const res = await fetch(`${apiHost}${url}?${query}`);\n\n  if (!res.ok) {\n    const { message } = await res.json();\n    const error: ApiError = new Error(message);\n    error.status = res.status;\n\n    throw error;\n  }\n\n  return res.json();\n}\n\n// Hook to fetch the current user role from the API\n// since it won't be stored in the context and may not always be needed.\nexport function usePermissions() {\n  const context = useSession();\n  const params = new URLSearchParams({ context }).toString();\n  const { data, error } = useSWR(context ? [\"/api/users/role\", params] : null, fetcher);\n\n  return {\n    data: data as PermissionsResponse, \n    error\n  };\n}\n\n// Hook to fetch the current store users from the API\nexport function useStoreUsers(page: number, limit: number, search: string = \"\") {\n  // consider adding a name filter in the api?\n  const context = useSession();\n  const params = new URLSearchParams({ context, page: String(page), limit: String(limit), search }).toString();\n\n  const { data, error } = useSWR(context ? [\"/api/users\", params] : null, fetcher);\n\n  return {\n    users: data?.data as StoreUser[],\n    pagination: data?.pagination as PaginationInfo,\n    isLoading: !data && !error,\n    error\n  };\n}\n\nexport function useVariants(page: number, limit: number, like: string = \"\") {\n  const context = useSession();\n  const params = new URLSearchParams({ context, page: String(page), limit: String(limit), like }).toString();\n\n  const { data, error, mutate } = useSWR(context ? [\"/api/variants\", params] : null, fetcher);\n\n  return {\n    variants: data?.data as Variant[],\n    meta: data?.meta as BcMeta,\n    isLoading: !data && !error,\n    error,\n    mutate\n  };\n}\n","import { ApiError } from \"../types\";\n\nconst apiHost = process.env.NODE_ENV === \"development\" ? \"http://localhost:8080\" : \"\";\n\nconst fetcher = async (path: string, method: string, body?: any) => {\n  const res = await fetch(`${apiHost}${path}`, {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: body ? JSON.stringify(body) : null\n  });\n\n  if (!res.ok) {\n    const { message } = await res.json();\n    const error: ApiError = new Error(message);\n    error.status = res.status;\n\n    throw error;\n  }\n\n  return res.json().catch(() => {});\n};\n\nexport function updateUserRole(userId: number, role: string, context: string): Promise<void> {\n  return fetcher(`/api/users?context=${context}`, \"PUT\", { userId, role });\n}\n\nexport function updateInventoryOrTrackingType(\n  variantId: number, \n  productId: number,\n  trackingType: string | null,\n  inventoryCount: number,\n  context: string\n) {\n  const body = { variantId, productId, trackingType, inventoryCount };\n  return fetcher(`/api/variants?context=${context}`, \"PUT\", body);\n}\n","import { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { \n  Modal,\n  Form,\n  FormGroup,\n  Counter,\n  Select,\n  Flex,\n  FlexItem,\n  ProgressCircle,\n  InlineMessage\n} from \"@bigcommerce/big-design\";\nimport { updateInventoryOrTrackingType } from \"../lib/api\";\n\ninterface VariantEditModalProps {\n  id: number;\n  sku: string;\n  productId: number;\n  trackingType: string;\n  inventoryCount: number;\n  context: string;\n  closeModal: () => void;\n  onSuccess: () => void;\n}\n\nconst VariantEditModal = ({\n  id, \n  sku, \n  productId, \n  trackingType, \n  inventoryCount,\n  context,\n  closeModal,\n  onSuccess,\n}: VariantEditModalProps) => {\n  const [inventoryValue, setInventoryValue] = useState(inventoryCount);\n  const [trackingValue, setTrackingValue] = useState(trackingType);\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveError, setSaveError] = useState(false);\n\n  const handleSave = () => {\n    // Make sure the values have been changed, otherwise close the modal without making a request\n    if (trackingValue !== trackingType || inventoryValue !== inventoryCount) {\n      setIsSaving(true);\n      const newTracking = trackingValue !== trackingType ? trackingValue : null;\n\n      updateInventoryOrTrackingType(id, productId, newTracking, inventoryValue, context)\n      .then(() => {\n        setIsSaving(false);\n        onSuccess();\n        closeModal();\n      })\n      .catch(err => {\n        setIsSaving(false);\n        setSaveError(true);\n      });\n    } else {\n      closeModal();\n    }\n  };\n\n  return (\n    <Modal \n      actions={[\n        { text: \"Cancel\", variant: \"subtle\", onClick: closeModal },\n        { text: \"Save\", onClick: handleSave }\n      ]}\n      header={`Editing SKU: ${sku}`}\n      isOpen={true}\n      onClose={closeModal}\n      closeOnEscKey={true}\n      closeOnClickOutside={true}\n    >\n      {isSaving ? (\n        <Flex justifyContent={\"center\"}>\n          <FlexItem><ProgressCircle size=\"medium\" /></FlexItem>\n        </Flex>\n      ) : (\n        <Form marginBottom=\"xSmall\">\n          <FormGroup>\n            <Counter\n              label=\"Inventory Count\"\n              value={inventoryValue}\n              min={0}\n              max={1000000}\n              maxLength={7}\n              onCountChange={setInventoryValue}\n              required\n            />\n            <Select \n              filterable={false}\n              label=\"Inventory Tracking Type\"\n              options={[\n                { value: \"product\", content: \"Product\" },\n                { value: \"variant\", content: \"Variant\" },\n                { value: \"none\", content: \"None\" },\n              ]}\n              value={trackingValue}\n              onOptionChange={setTrackingValue}\n              required\n            />\n          </FormGroup>\n          {saveError && (\n            <InlineMessage \n              type=\"error\"\n              header=\"Error\" \n              messages={[\n                { text: \"Failed to update the variant. Please try again.\" }\n              ]}\n            />\n          )}\n        </Form>\n      )}\n    </Modal>\n  );\n};\n\nexport function spawnVariantEditModal(\n  id: number, \n  sku: string, \n  productId: number, \n  trackingType: string, \n  inventoryCount: number,\n  context: string,\n  onSuccess: () => void,\n) {\n  const props = { id, sku, productId, trackingType, inventoryCount, context, onSuccess };\n  const modal = document.createElement(\"div\");\n  modal.id = \"modal\";\n  const container = document.body.appendChild(modal);\n\n  function close() {\n    ReactDOM.unmountComponentAtNode(container);\n    container.remove();\n  }\n\n  ReactDOM.render(<VariantEditModal closeModal={close} {...props} />, container);\n}\n","import { useEffect, useState } from \"react\";\nimport { \n  Panel, \n  Text, \n  InlineMessage,\n  ProgressCircle,\n  Box,\n  Table, \n  Flex, \n  FlexItem,\n  Button,\n} from \"@bigcommerce/big-design\";\nimport { SearchBar } from \"../components/SearchBar\";\nimport { useSession } from \"../context/SessionProvider\";\nimport { usePermissions, useVariants } from \"../lib/hooks\";\nimport { spawnVariantEditModal } from \"../components/VariantEditModal\";\n\nexport const Inventory = () => {\n  return (\n    <Panel header=\"Inventory\">\n      <Text>\n        You can see all of your store's variants here, sort them, and update the inventory level.\n      </Text>\n      <InventorySection />\n    </Panel>\n  );\n};\n\nconst InventorySection = () => {\n  const context = useSession();\n  const permissions = usePermissions();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(50);\n  const itemsPerPageOptions = [50, 100, 200, 250];\n  const [filterValue, setFilterValue] = useState(\"\");\n  const { \n    variants, \n    meta,\n    isLoading: variantsLoading, \n    error: variantsError,\n    mutate\n  } = useVariants(currentPage, itemsPerPage, filterValue);\n\n  const [sortedVariants, setSortedVariants] = useState(variants);\n  const [columnHash, setColumnHash] = useState(\"\");\n  const [direction, setDirection] = useState<\"ASC\" | \"DESC\">(\"ASC\");\n\n  const onSort = (newColumnHash: string, newDirection: \"ASC\" | \"DESC\") => {\n    setColumnHash(newColumnHash);\n    setDirection(newDirection);\n    setSortedVariants(sortVariants);\n  };\n\n  const sortVariants = sortedVariants?.sort((a, b) => {\n      if (columnHash === \"inventory_level\") {\n        return direction === \"ASC\" ? a[columnHash] - b[columnHash] : b[columnHash] - a[columnHash];\n      } else {\n        return direction === \"ASC\" ? a.sku.localeCompare(b.sku) : b.sku.localeCompare(a.sku);\n      }\n    }\n  );\n\n  const onSearchSubmit = (value: string) => setFilterValue(value);\n\n  const onItemsPerPageChange = (range: number) => {\n    setCurrentPage(1);\n    setItemsPerPage(range);\n  };\n\n  const onPageChange = (page: number) => {\n    setCurrentPage(page);\n    // Ensure sorting is maintained on page change\n    setSortedVariants(sortVariants);\n  };\n\n  useEffect(() => setSortedVariants(variants), [variants]);\n\n  if (!context) {\n    return (\n      <InlineMessage\n        type=\"error\"\n        header=\"Error\"\n        messages={[\n          { text: \"Failed to authorize your session. Please try reloading the app.\" }\n        ]}\n      />\n    );\n  }\n\n  if (variantsLoading) {\n    return (\n      <Flex justifyContent={\"center\"}>\n        <FlexItem><ProgressCircle size=\"medium\" /></FlexItem>\n      </Flex>\n    );\n  }\n\n  if (permissions.error || variantsError) {\n    return (\n      <InlineMessage \n        type=\"error\"\n        header=\"Error\" \n        messages={[\n          { text: \"Failed to authorize the request for the variants data. Please try reloading or reinstalling the app.\" }\n        ]}\n      />\n    );\n  }\n\n  if (!variants?.length && !variantsLoading && !filterValue) {\n    return (\n      <InlineMessage \n        type=\"error\"\n        header=\"Error\" \n        messages={[\n          { text: \"There are no variants to display. This indicates a problem, please try reloading the app.\" },\n        ]}\n      />\n    );\n  }\n\n  return (\n    <>\n      <SearchBar defaultValue={filterValue} onSearchSubmit={onSearchSubmit} />\n      <Table \n        emptyComponent={<Box padding=\"medium\"><Text>No results!</Text></Box>}\n        columns={[\n          {\n            header: \"Product Name\",\n            hash: \"product_name\",\n            render: ({ product_name }) => product_name,\n            isSortable: false,\n          },\n          {\n            header: \"Tracking Type\",\n            hash: \"inventory_tracking\",\n            render: ({ inventory_tracking }) => inventory_tracking,\n            isSortable: false,\n          },\n          {\n            header: \"SKU\",\n            hash: \"sku\",\n            render: ({ sku }) => sku,\n            isSortable: true,\n          },\n          {\n            header: \"Inventory Count\",\n            hash: \"inventory_level\",\n            render: ({ inventory_level }) => inventory_level,\n            isSortable: true,\n          },\n          {\n            header: \"Action\",\n            hideHeader: true,\n            hash: \"action\",\n            render: ({ \n              id, \n              sku, \n              product_id: productId, \n              inventory_tracking: trackingType,\n              inventory_level: inventoryCount,\n            }) =>\n              <Button \n                variant=\"subtle\" \n                onClick={() => spawnVariantEditModal(id, sku, productId, trackingType, inventoryCount, context, mutate)}\n                disabled={permissions.data.role === \"viewer\"}\n              >\n                Edit\n              </Button>,\n            isSortable: false,\n          }\n        ]}\n        pagination={{\n          currentPage,\n          totalItems: meta.pagination?.total ?? 0,\n          onPageChange,\n          itemsPerPageOptions,\n          onItemsPerPageChange,\n          itemsPerPage\n        }}\n        items={sortedVariants ?? []}\n        stickyHeader={true}\n        sortable={{\n          columnHash,\n          direction,\n          onSort\n        }}\n      />\n      {currentPage < meta?.pagination.total_pages && <PreFetchPage targetPage={currentPage + 1} limit={itemsPerPage} />}\n    </>\n  );\n};\n\n// Invisible component to pre-fetch pages for a smoother experience\ninterface PreFetchPageProps {\n  targetPage: number;\n  limit: number;\n}\n\nfunction PreFetchPage({ targetPage, limit }: PreFetchPageProps) {\n  useVariants(targetPage, limit);\n  return null;\n};\n","import { useState } from \"react\";\nimport { \n  Panel, \n  Table, \n  Text, \n  InlineMessage, \n  ProgressCircle, \n  Flex, \n  FlexItem, \n  Select\n} from \"@bigcommerce/big-design\";\nimport { SearchBar } from \"../components/SearchBar\";\nimport { usePermissions, useStoreUsers } from \"../lib/hooks\";\nimport { updateUserRole } from \"../lib/api\";\nimport { useSession } from \"../context/SessionProvider\";\n\nexport const Users = () => {\n  return (\n    <Panel header=\"Users\">\n      <Text>This is a list of users that are able to use this app on your store and their permissions. By default, when a user first loads the app after being given permissions, they will only have the <strong>Viewer</strong> role. If you want them to have <strong>Admin</strong> permissions, you must set that here.</Text>\n      <UsersSection />\n    </Panel>\n  );\n};\n\nconst UsersSection = () => {\n  const context = useSession();\n  const permissions = usePermissions();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(10);\n  const itemsPerPageOptions = [10, 25, 50, 100];\n  const [filterValue, setFilterValue] = useState(\"\");\n  const { \n    users, \n    pagination,\n    isLoading: usersLoading, \n    error: usersError\n  } = useStoreUsers(currentPage, itemsPerPage, filterValue);\n\n  const onSearchSubmit = (value: string) => setFilterValue(value);\n\n  const onItemsPerPageChange = (range: number) => {\n    setCurrentPage(1);\n    setItemsPerPage(range);\n  };\n\n  if (!context) {\n    return (\n      <InlineMessage\n        type=\"error\"\n        header=\"Error\"\n        messages={[\n          { text: \"Failed to authorize your session. Please try reloading the app.\" }\n        ]}\n      />\n    );\n  }\n\n  if (usersLoading) {\n    return (\n      <Flex justifyContent={\"center\"}>\n        <FlexItem><ProgressCircle size=\"medium\" /></FlexItem>\n      </Flex>\n    );\n  }\n\n  if (permissions.error || usersError) {\n    return (\n      <InlineMessage \n        type=\"error\"\n        header=\"Error\" \n        messages={[\n          { text: \"There was an error loading the users data. Please try again or reload the app.\" },\n        ]}\n      />\n    );\n  }\n\n  if (!users?.length && !usersLoading && !filterValue) {\n    return (\n      <InlineMessage \n        type=\"error\"\n        header=\"Error\" \n        messages={[\n          { text: \"There are no users to display. This indicates a problem, please try reloading the app.\" },\n        ]}\n      />\n    );\n  }\n\n  return (\n    <>\n      <SearchBar defaultValue={filterValue} onSearchSubmit={onSearchSubmit} />\n      <Table \n        columns={[\n          { \n            header: \"Email\", \n            hash: \"email\", \n            render: ({ email }) => email \n          },\n          { \n            header: \"Role\", \n            hash: \"role\", \n            width: \"200px\",\n            render: ({ role, userId }) => \n              <RoleCell \n                currentUserRole={permissions.data?.role} \n                role={role} \n                userId={userId}\n                context={context}\n              />\n          },\n          { \n            header: \"Last Login\", \n            hash: \"lastLogin\", \n            render: ({ lastLogin }) => new Date(lastLogin * 1000).toLocaleString() \n          },\n        ]}\n        pagination={{\n          currentPage,\n          totalItems: pagination?.totalItems ?? 0,\n          onPageChange: setCurrentPage,\n          itemsPerPageOptions,\n          onItemsPerPageChange,\n          itemsPerPage\n        }}\n        items={users ?? []}\n      />\n      {currentPage < pagination?.totalPages && <PreFetchPage targetPage={currentPage + 1} limit={itemsPerPage} />}\n    </>\n  );\n};\n\ninterface RoleCellProps {\n  userId: number;\n  role: string;\n  currentUserRole: string;\n  context: string;\n};\n\nconst RoleCell = ({ userId, role, currentUserRole, context }: RoleCellProps) => {\n  const [currentRole, setCurrentRole] = useState(role);\n\n  const updateRole = (targetRole: string) => {\n    updateUserRole(userId, targetRole, context)\n    .then(() => setCurrentRole(targetRole))\n    .catch(err => {\n      console.log(err);\n      setCurrentRole(role);\n    });\n  };\n\n  return (\n    <Select \n      onOptionChange={updateRole}\n      options={[\n        { value: \"admin\", content: \"Admin\" },\n        { value: \"viewer\", content: \"Viewer\" }\n      ]}\n      filterable={false}\n      value={currentRole}\n      placeholder={role === \"owner\" ? \"Owner\" : undefined}\n      disabled={role === \"owner\" || currentUserRole === \"viewer\"}\n    />\n  );\n};\n\n// Invisible component to pre-fetch pages for a smoother experience\ninterface PreFetchPageProps {\n  targetPage: number;\n  limit: number;\n}\n\nfunction PreFetchPage({ targetPage, limit }: PreFetchPageProps) {\n  useStoreUsers(targetPage, limit);\n  return null;\n};\n","import React from \"react\";\nimport { Panel, Text } from \"@bigcommerce/big-design\";\n\nexport const NotFound = () => {\n  return (\n    <Panel header=\"Not Found\">\n      <Text>Cannot find the page that you're looking for.</Text>\n    </Panel>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { AssignmentIcon, BaselineHelpIcon } from \"@bigcommerce/big-design-icons\";\nimport { SessionProvider } from \"./context/SessionProvider\";\nimport { InventoryIcon } from \"./components/icons/InventoryIcon\";\nimport { UsersIcon } from \"./components/icons/UsersIcon\";\nimport { Header } from \"./components/Header\";\nimport { GettingStarted } from \"./pages/GettingStarted\";\nimport { Help } from \"./pages/Help\";\nimport { Inventory } from \"./pages/Inventory\";\nimport { Users } from \"./pages/Users\";\nimport { AppRoute } from \"./types\";\nimport { NotFound } from \"./pages/NotFound\";\n\nconst appRoutes: AppRoute[] = [\n  { \n    name: \"Getting Started\", \n    path: \"/\",\n    icon: <AssignmentIcon />,\n    element: <GettingStarted /> \n  },\n  { \n    name: \"Inventory\", \n    path: \"/inventory\", \n    icon: <InventoryIcon />,\n    element: <Inventory />\n  },\n  { \n    name: \"Users\", \n    path: \"/users\", \n    icon: <UsersIcon />,\n    element: <Users /> \n  },\n  {\n    name: \"Help\",\n    path: \"/help\",\n    icon: <BaselineHelpIcon />,\n    element: <Help />\n  }\n];\n\nexport function App(): JSX.Element {\n  return (\n    <BrowserRouter>\n      <Header navRoutes={appRoutes} />\n      <SessionProvider>\n        <Routes>\n          {appRoutes.map(({ path, element }, index) => \n            <Route key={`route-${index}`} path={path} element={element} />\n          )}\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </SessionProvider>\n    </BrowserRouter>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { GlobalStyles } from \"@bigcommerce/big-design\";\nimport { theme } from \"@bigcommerce/big-design-theme\";\nimport { createGlobalStyle, ThemeProvider } from \"styled-components\";\nimport { App } from \"./App\";\nimport \"./style.css\";\n\nconst AppGlobalStyles = createGlobalStyle`\n  body {\n    height: 100%;\n    max-width: 1080px;\n    min-width: 800px;\n    margin: 2rem auto;\n    background-color: ${({ theme }) => theme.colors.secondary10};\n  }\n\n  #root {\n    padding: 1em;\n  }\n\n  a {\n    color: ${({ theme }) => theme.colors.primary};\n  }\n\n  a:hover {\n    color: ${({ theme }) => theme.colors.primary30};\n  }\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <AppGlobalStyles />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}